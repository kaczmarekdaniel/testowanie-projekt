(this["webpackJsonpstudy-buddy"]=this["webpackJsonpstudy-buddy"]||[]).push([[0],{1674:function(e,n,t){},1677:function(e,n,t){"use strict";t.r(n);var r,o,i,a,c,s,u,d,l,b,p,j,f,h,x=t(0),g=t.n(x),O=t(47),m=t.n(O),v=t(7),y=t(15),w=t(10),k=t(39),S=t.n(k),C=t(1),z=g.a.createContext({}),P=function(e){var n=e.children,t=Object(x.useState)(null),r=Object(w.a)(t,2),o=r[0],i=r[1],a=Object(x.useCallback)((function(e){i(e),setTimeout((function(){i("")}),7e3)}),[]);return Object(C.jsx)(z.Provider,{value:{error:o,dispatchError:a},children:n})},E=function(){var e=Object(x.useContext)(z);if(!e)throw Error("useAuth needs to be used inside AuthContext");return e},A=g.a.createContext({}),T=function(e){var n=e.children,t=Object(x.useState)(null),r=Object(w.a)(t,2),o=r[0],i=r[1],a=E().dispatchError;Object(x.useEffect)((function(){var e=localStorage.getItem("token");e&&Object(y.a)(Object(v.a)().mark((function n(){var t;return Object(v.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.a.get("/me",{headers:{authorization:"Bearer ".concat(e)}});case 3:t=n.sent,i(t.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[]);var c=function(){var e=Object(y.a)(Object(v.a)().mark((function e(n){var t,r,o;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.login,r=n.password,e.prev=1,e.next=4,S.a.post("/login",{login:t,password:r});case 4:o=e.sent,i(o.data),localStorage.setItem("token",o.data.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a("Invalid email or password");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return Object(C.jsx)(A.Provider,{value:{user:o,signIn:c,signOut:function(){i(null),localStorage.removeItem("token")}},children:n})},B=function(){var e=Object(x.useContext)(A);if(!e)throw Error("useAuth needs to be used inside AuthContext");return e},G=t(6),N=t(5),I=N.c.h1(r||(r=Object(G.a)(["\n  font-size: ",";\n  color: ",";\n"])),(function(e){return e.theme.fontSize.xl}),(function(e){return e.theme.colors.darkGrey})),L=Object(N.d)(o||(o=Object(G.a)(["\n  from {\n    transform: translateX(-50%) scaleX(1);\n  }\n  to {\n    transform: translateX(-50%) scaleX(0);\n  }\n"]))),q=Object(N.d)(i||(i=Object(G.a)(["\n  from {\n    transform: translateX(-50%) translateY(500%);\n  }\n  to {\n    transform: translateX(-50%) translateY(0);\n  }\n"]))),M=N.c.div(a||(a=Object(G.a)(["\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  bottom: 10%;\n  background-color: white;\n  padding: 25px 25px 15px;\n  color: ",";\n  border: 3px solid ",";\n  border-radius: 15px;\n  animation: "," 1s ease-in-out 1 forwards, "," 1s 6s ease-in-out 1 reverse forwards;\n\n  "," {\n    color: ",";\n  }\n\n  &::before,\n  &::after {\n    content: '';\n    position: absolute;\n    left: 50%;\n    top: 15px;\n    transform: translateX(-50%);\n    background-color: ",";\n    width: 60px;\n    height: 5px;\n    border-radius: 50px;\n  }\n\n  &::before {\n    opacity: 0.5;\n  }\n\n  &::after {\n    transform: translateX(-50%) scaleX(1);\n    transform-origin: left top;\n    animation: "," 5s 1s linear 1 forwards;\n  }\n"])),(function(e){return e.theme.colors.error}),(function(e){return e.theme.colors.error}),q,q,I,(function(e){return e.theme.colors.error}),(function(e){return e.theme.colors.error}),L),F=function(e){var n=e.message,t=void 0===n?"Something went wrong. Please try again, or contact our support.":n;return Object(C.jsxs)(M,{children:[Object(C.jsx)(I,{children:"Oops!"}),Object(C.jsx)("p",{children:t})]})},_=t(29),D=N.c.nav(c||(c=Object(G.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  /* padding: 32px 0 40px; */\n  background-color: #d91918;\n  margin: 0 0 56px;\n  grid-row: 1 / 3;\n  grid-column: 1 / 1;\n  position: relative;\n"]))),R=N.c.div(s||(s=Object(G.a)(["\n  background-color: #3156a3;\n  width: 140px;\n  height: 60px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  position: absolute;\n  top: 28px;\n  left: 0;\n\n  h1 {\n    font-size: 15px;\n    color: ",";\n    text-align: right;\n    margin-right: 20px;\n  }\n"])),(function(e){return e.theme.colors.white})),X="active-link",K=Object(N.c)(_.c).attrs({activeClassName:X})(u||(u=Object(G.a)(["\n  cursor: pointer;\n  font-weight: bold;\n  text-decoration: none;\n  color: #fff;\n  padding-bottom: 4px;\n  text-align: right;\n  margin: 15px 20px 15px 20px;\n  position: relative;\n\n  &.",' {\n    border-bottom: 2px solid #fff;\n  }\n\n  &::after {\n    opacity: 0;\n    transition: opacity 0.4s ease-in-out;\n    content: "";\n    position: absolute;\n    width: 18px;\n    height: 3px;\n    top: 50%;\n    transform: translateY(-50%);\n    right: -20px;\n    background-color: ',";\n  }\n"])),X,(function(e){return e.theme.colors.darkPurple})),W={marginLeft:"120px"},Q=function(){var e=B();return Object(C.jsxs)(D,{children:[Object(C.jsx)(R,{children:Object(C.jsxs)("h1",{children:["Uniwersytet",Object(C.jsx)("br",{}),"Szczeci\u0144ski"]})}),Object(C.jsx)(K,{to:"/group",children:"Dashboard"}),Object(C.jsx)(K,{to:"/notes",children:"Notes"}),Object(C.jsx)(K,{to:"/news",children:"News"}),Object(C.jsx)(K,{style:W,as:"a",className:"logOut",onClick:e.signOut,children:"Logout"})]})},U=N.c.div(d||(d=Object(G.a)(["\n  width: 100%;\n  overflow-x: scroll;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  grid-template-rows: 90px 1fr;\n  grid-template-columns: 150px 1fr 0.75fr;\n  background-color: ",";\n  overflow-y: hidden;\n  min-height: 100vh;\n"])),(function(e){return e.theme.colors.lightGrey})),H=t(3),V=N.c.input(l||(l=Object(G.a)(["\n  padding: 10px 12px;\n  border: none;\n\n  border: 1px solid ",";\n  border-radius: 8px;\n  box-sizing: border-box;\n  box-shadow: -2px 4px 10px rgba(115, 124, 142, 0.09);\n  font-size: ",";\n  resize: none;\n  margin-bottom: 24px;\n\n  &:focus {\n    outline: none;\n  }\n"])),(function(e){return e.theme.colors.darkPurple}),(function(e){return e.theme.fontSize.l})),Y=t(104),Z=t.n(Y),J=t(106),$=N.c.div(b||(b=Object(G.a)(["\n  grid-row: 1 / 2;\n  grid-column: 2 / 3;\n  border-bottom: 1px solid #d91918;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 0 40px 8px;\n\n  "," {\n    font-size: ",";\n    width: 100%;\n    max-width: 350px;\n    border: 2px solid ",";\n    margin: 0;\n  }\n"])),V,(function(e){return e.theme.fontSize.xl}),(function(e){return e.theme.colors.lightPurple})),ee=N.c.div(p||(p=Object(G.a)(["\n  color: ",";\n  font-size: ",";\n  margin-right: 40px;\n\n  p {\n    margin: 5px;\n  }\n"])),(function(e){return e.theme.colors.darkGrey}),(function(e){return e.theme.fontSize.l})),ne=N.c.div(j||(j=Object(G.a)(["\n  position: relative;\n"]))),te=N.c.ul(f||(f=Object(G.a)(["\n  visibility: ",";\n  z-index: 1000;\n  max-height: 500px;\n  overflow-y: scroll;\n  padding: 10px;\n  border-radius: 15px;\n  list-style: none;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 30px;\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n"])),(function(e){return e.isVisible?"visible":"hidden"}),(function(e){return e.theme.colors.white})),re=N.c.li(h||(h=Object(G.a)(["\n  font-weight: bold;\n  color: ",";\n  background-color: ",";\n  width: 100%;\n  padding: 20px 5px;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px solid ",";\n  }\n"])),(function(e){return e.theme.colors.darkGrey}),(function(e){var n=e.theme;return e.isHighlighted?n.colors.lightPurple:n.colors.white}),(function(e){return e.theme.colors.lightPurple}),(function(e){return e.theme.colors.darkPurple})),oe=S.a.create({});oe.interceptors.request.use((function(e){var n=localStorage.getItem("token");return n&&(e.headers.authorization="Bearer ".concat(n)),e}),(function(e){return Promise.reject(e)}));var ie,ae,ce,se=function(){var e=Object(x.useCallback)(Object(y.a)(Object(v.a)().mark((function e(){var n;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.get("/groups");case 3:return n=e.sent,e.abrupt("return",n.data.groups);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),n=Object(x.useCallback)(function(){var e=Object(y.a)(Object(v.a)().mark((function e(n){var t;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.get("/students/".concat(n));case 3:return t=e.sent,e.abrupt("return",t.data.students);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),[]),t=Object(x.useCallback)(function(){var e=Object(y.a)(Object(v.a)().mark((function e(n){var t;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.get("/groups/".concat(n));case 3:return t=e.sent,e.abrupt("return",t.data.students);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),[]),r=function(){var e=Object(y.a)(Object(v.a)().mark((function e(n){var t,r;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.post("/students/search",{searchPhrase:n});case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return{getGroups:e,getStudentsByGroup:t,findStudents:r,getStudentById:n}},ue=function(){var e=Object(x.useState)([]),n=Object(w.a)(e,2),t=n[0],r=n[1],o=se().findStudents,i=Z()(function(){var e=Object(y.a)(Object(v.a)().mark((function e(n){var t,i,a;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.inputValue,e.next=3,o(t);case 3:i=e.sent,a=i.students,r(a);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),500),a=Object(J.a)({items:t,onInputValueChange:i,itemToString:function(e){return e?e.name:""}}),c=a.isOpen,s=a.getMenuProps,u=a.getInputProps,d=a.getComboboxProps,l=a.highlightedIndex,b=a.getItemProps;return Object(C.jsxs)($,{children:[Object(C.jsxs)(ee,{children:[Object(C.jsx)("p",{children:"Logged as:"}),Object(C.jsx)("p",{children:Object(C.jsx)("strong",{children:"Teacher"})})]}),Object(C.jsxs)(ne,Object(H.a)(Object(H.a)({},d()),{},{children:[Object(C.jsx)(V,Object(H.a)(Object(H.a)({},u()),{},{name:"Search",id:"Search",placeholder:"Search"})),Object(C.jsx)(te,Object(H.a)(Object(H.a)({isVisible:c&&t.length>0},s()),{},{"aria-label":"results",children:c&&t.map((function(e,n){return Object(x.createElement)(re,Object(H.a)(Object(H.a)({isHighlighted:l===n},b({item:"Mordo",index:n})),{},{key:e.id}),e.name)}))}))]}))]})},de=t(24),le=t(9),be=t(44),pe=Object(be.createApi)({reducerPath:"notesApi",baseQuery:Object(be.fetchBaseQuery)({baseUrl:"/"}),tagTypes:["Notes"],endpoints:function(e){return{getNotes:e.query({query:function(){return"notes"},providesTags:["Notes"]}),addNote:e.mutation({query:function(e){return{url:"notes",method:"POST",body:e}},invalidatesTags:["Notes"]}),removeNote:e.mutation({query:function(e){return{url:"notes",method:"DELETE",body:e}},invalidatesTags:["Notes"]})}}}),je=pe.useGetNotesQuery,fe=pe.useAddNoteMutation,he=pe.useRemoveNoteMutation,xe=Object(be.createApi)({reducerPath:"groupsApi",baseQuery:Object(be.fetchBaseQuery)({baseUrl:"/"}),endpoints:function(e){return{getGroups:e.query({query:function(){return"groups"}})}}}),ge=xe.useGetGroupsQuery,Oe=Object(le.configureStore)({reducer:(ie={},Object(de.a)(ie,pe.reducerPath,pe.reducer),Object(de.a)(ie,xe.reducerPath,xe.reducer),ie),middleware:function(e){return e().concat(pe.middleware)}}),me=["title","titleId"];function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ve.apply(this,arguments)}function ye(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function we(e,n){var t=e.title,r=e.titleId,o=ye(e,me);return x.createElement("svg",ve({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},o),t?x.createElement("title",{id:r},t):null,ae||(ae=x.createElement("path",{d:"M9.90477 1.67625C7.77223 -0.456862 4.30123 -0.456862 2.16869 1.67625C1.13568 2.70994 0.56665 4.08399 0.56665 5.54532C0.56665 7.00666 1.13568 8.3807 2.16869 9.41399C3.23517 10.4808 4.63596 11.0139 6.03672 11.0139C7.43748 11.0139 8.83829 10.4808 9.90475 9.41399C12.0373 7.28088 12.0373 3.80977 9.90477 1.67625ZM9.30563 8.81469C7.50317 10.6176 4.57027 10.6176 2.7678 8.81469C1.89497 7.94163 1.41406 6.78034 1.41406 5.54532C1.41406 4.3103 1.89497 3.14902 2.7678 2.27552C4.57027 0.472573 7.50317 0.473001 9.30563 2.27552C11.1077 4.07847 11.1077 7.01217 9.30563 8.81469Z",fill:"white"})),ce||(ce=x.createElement("path",{d:"M7.74044 6.68187L6.60381 5.54536L7.74044 4.40885C7.89702 4.25207 7.89702 3.99759 7.74085 3.84038C7.58387 3.68279 7.32972 3.6832 7.17274 3.83998L6.03532 4.9773L4.89789 3.83998C4.74091 3.6832 4.48676 3.68279 4.32978 3.84038C4.17321 3.99757 4.17321 4.25205 4.33019 4.40885L5.46683 5.54536L4.33019 6.68187C4.17321 6.83865 4.17321 7.09313 4.32978 7.25034C4.40808 7.32913 4.51126 7.36812 4.61405 7.36812C4.71684 7.36812 4.81961 7.32872 4.89791 7.25073L6.03534 6.1134L7.17276 7.25073C7.25106 7.32913 7.35383 7.36812 7.45662 7.36812C7.55942 7.36812 7.66259 7.32872 7.74089 7.25034C7.89743 7.09313 7.89742 6.83865 7.74044 6.68187Z",fill:"white"})))}var ke,Se,Ce,ze,Pe,Ee,Ae,Te,Be,Ge,Ne,Ie,Le,qe,Me,Fe,_e,De,Re,Xe,Ke,We,Qe,Ue,He,Ve,Ye,Ze,Je,$e,en,nn,tn,rn,on,an=x.forwardRef(we),cn=(t.p,N.c.button(ke||(ke=Object(G.a)(["\n  width: 22px;\n  height: 22px;\n  margin: 0 10px;\n  background-color: #d91918;\n  border-radius: 50px;\n  border: none;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    width: 100%;\n    height: 100%;\n  }\n"])))),sn=function(e){return Object(C.jsx)(cn,Object(H.a)(Object(H.a)({},e),{},{children:Object(C.jsx)(an,{})}))},un=N.c.div(Se||(Se=Object(G.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n\n  h3,\n  p {\n    margin: 0;\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.darkGrey})),dn=Object(N.c)(sn)(Ce||(Ce=Object(G.a)(["\n  position: absolute;\n  top: 20px;\n  left: -40px;\n"]))),ln=function(e){var n=e.title,t=void 0===n?"Untitled":n,r=e.content,o=void 0===r?"No content":r,i=e.id,a=he(),c=Object(w.a)(a,1)[0];return Object(C.jsxs)(un,{children:[Object(C.jsx)(I,{children:t}),Object(C.jsx)("p",{children:o}),Object(C.jsx)(dn,{"aria-label":"Delete",onClick:function(){c({id:i})}})]})},bn=N.c.div(ze||(ze=Object(G.a)(["\n  width: 400px;\n  height: auto;\n  transform: ",";\n  transition: transform 0.6s ease-in-out;\n  max-height: 700px;\n  position: fixed;\n  right: -2px;\n  top: 23px;\n  background: white;\n  border: 2px solid ",";\n  border-radius: 20px 0 0 20px;\n"])),(function(e){return e.isOpen?"translateX(0)":"translateX(400px)"}),(function(e){return e.theme.colors.darkGrey})),pn=N.c.button(Pe||(Pe=Object(G.a)(["\n  width: 80px;\n  height: 30px;\n  background-color: ",";\n  transform: rotate(-90deg);\n  position: absolute;\n  left: -55px;\n  border-radius: 8px 8px 0 0;\n  top: 40px;\n  color: white;\n  border: none;\n  cursor: pointer;\n"])),(function(e){return e.theme.colors.darkGrey})),jn=N.c.div(Ee||(Ee=Object(G.a)(["\n  max-height: 700px;\n  overflow-y: scroll;\n  padding: 20px 60px;\n  display: flex;\n  flex-direction: column;\n"]))),fn=function(){var e=g.a.useState(!1),n=Object(w.a)(e,2),t=n[0],r=n[1],o=je(),i=o.data,a=o.isLoading;return Object(C.jsxs)(bn,{isOpen:t,children:[Object(C.jsx)(pn,{onClick:function(){return r((function(e){return!e}))},children:"quick notes "}),a?Object(C.jsx)("h3",{children:"Loading..."}):Object(C.jsx)(jn,{children:i.notes.length?i.notes.map((function(e){var n=e.title,t=e.content,r=e.id;return Object(C.jsx)(ln,{id:r,title:n,content:t},r)})):Object(C.jsx)("p",{children:"Create your first note"})})]})},hn=function(e){var n=e.children;return Object(C.jsxs)(U,{children:[Object(C.jsx)(Q,{}),Object(C.jsx)(ue,{}),n,Object(C.jsx)(fn,{})]})},xn=N.c.div(Ae||(Ae=Object(G.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n"]))),gn=t(16),On=t(27),mn=N.c.li(Te||(Te=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n\n  padding: 16px 24px;\n  border-radius: 24px;\n  box-shadow: 0 5px 15px -10px rgba(0, 0, 0, 0.3);\n  background-color: #fff;\n\n  /* &:not(:last-child)::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\twidth: 100%;\n\t\theight: 1px;\n\t\tbackground-color: lightgrey;\n\t} */\n"]))),vn=N.c.div(Be||(Be=Object(G.a)(["\n  padding: 16px;\n\n  p {\n    margin: 0;\n    color: ",";\n  }\n\n  p:first-child {\n    display: flex;\n    align-items: center;\n    font-weight: bold;\n    font-size: ",";\n  }\n\n  p:last-child {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.colors.darkGrey}),(function(e){return e.theme.fontSize.l}),(function(e){return e.theme.fontSize.m})),yn=t(2),wn=t.n(yn),kn=(wn.a.string,wn.a.string,wn.a.number,N.c.div(Ge||(Ge=Object(G.a)(["\n  width: 35px;\n  height: 35px;\n  border-radius: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: ",";\n  color: ",";\n  font-weight: bold;\n  background: ",";\n"])),(function(e){return e.theme.fontSize.s}),(function(e){return e.theme.colors.white}),(function(e){var n=e.theme,t=e.value;return t>4?n.colors.success:t>3?n.colors.warning:t>1?n.colors.error:n.colors.grey}))),Sn=["userData"],Cn=function(e){var n=e.userData,t=n.average,r=n.name,o=n.attendance,i=void 0===o?"0%":o,a=Object(On.a)(e,Sn);return Object(C.jsxs)(mn,Object(H.a)(Object(H.a)({},a),{},{children:[Object(C.jsx)(kn,{value:t,children:t}),Object(C.jsxs)(vn,{children:[Object(C.jsx)("p",{children:r}),Object(C.jsxs)("p",{children:["attendance: ",i]})]})]}))},zn=N.c.ul(Ne||(Ne=Object(G.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  gap: 32px 16px;\n"]))),Pn=function(e){var n=e.handleOpenStudentDetails,t=Object(x.useState)([]),r=Object(w.a)(t,2),o=r[0],i=r[1],a=Object(gn.g)().id,c=se().getStudentsByGroup;return Object(x.useEffect)((function(){Object(y.a)(Object(v.a)().mark((function e(){var n;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(a);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})))()}),[c,a]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{children:"Students list"}),Object(C.jsx)(zn,{children:o.map((function(e){return Object(C.jsx)(Cn,{onClick:function(){return n(e.id)},userData:e},e.name)}))})]})},En=N.c.div(Ie||(Ie=Object(G.a)(["\n  margin: 25px;\n  background-color: ",";\n  width: 100%;\n  max-width: 500px;\n  padding: 40px 50px;\n  border-radius: 25px;\n  box-shadow: 0 5px 15px -10px rgba(0, 0, 0, 0.3);\n"])),(function(e){return e.theme.colors.white})),An=N.c.div(Le||(Le=Object(G.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 20px 50px;\n"]))),Tn=Object(N.c)(En)(qe||(qe=Object(G.a)(["\n  margin: 0;\n  max-width: unset;\n  background-color: unset;\n  box-shadow: none;\n  border-radius: unset;\n  padding: unset;\n"]))),Bn=N.c.div(Me||(Me=Object(G.a)(["\n  display: flex;\n  align-items: center;\n\n  nav a {\n    margin-left: 15px;\n    display: inline-block;\n    text-align: center;\n    background-color: #d91918;\n    border-radius: 50px;\n    padding: 5px;\n    width: 30px;\n    height: 30px;\n    text-decoration: none;\n    color: white;\n    font-weight: bold;\n    border: 1px solid #d91918;\n  }\n\n  nav a:hover {\n    background-color: white;\n    color: #d91918;\n  }\n"]))),Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(x.useState)(e),t=Object(w.a)(n,2),r=t[0],o=t[1],i=function(){return o(!0)},a=function(){return o(!1)};return{isOpen:r,handleOpenModal:i,handleCloseModal:a}},Nn=N.c.div(Fe||(Fe=Object(G.a)(["\n  width: 100%;\n  padding: 40px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n"]))),In=Object(N.c)(kn)(_e||(_e=Object(G.a)(["\n  width: 68px;\n  height: 68px;\n  font-size: ",";\n  position: absolute;\n  left: 40px;\n"])),(function(e){return e.theme.fontSize.xl})),Ln=N.c.div(De||(De=Object(G.a)(["\n  width: 100%;\n  padding: 40px;\n"]))),qn=N.c.h3(Re||(Re=Object(G.a)(["\n  font-size: ",";\n  color: ",";\n  margin-bottom: 0;\n"])),(function(e){return e.theme.fontSize.l}),(function(e){return e.theme.colors.darkGrey})),Mn=N.c.p(Xe||(Xe=Object(G.a)(["\n  font-size: ",";\n  color: ",";\n  margin: 10px 20px 20px 0;\n"])),(function(e){var n=e.theme;return e.isBig?n.fontSize.xl:n.fontSize.l}),(function(e){return e.theme.colors.darkGrey})),Fn=N.c.div(Ke||(Ke=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 250px;\n"]))),_n=function(e){var n=e.student;return Object(C.jsxs)(Nn,{children:[Object(C.jsx)(In,{value:n.average,children:n.average}),Object(C.jsx)(I,{isBig:!0,children:n.name}),Object(C.jsxs)(Ln,{children:[Object(C.jsx)(qn,{children:"Course:"}),Object(C.jsx)(Mn,{isBig:!0,children:n.course}),Object(C.jsx)(qn,{children:"Average grades:"}),n.grades.map((function(e){var n=e.subject,t=e.average;return Object(C.jsxs)(Fn,{children:[Object(C.jsx)(Mn,{children:n}),Object(C.jsx)(kn,{value:t,children:t})]},n)}))]})]})},Dn=t(105),Rn=t.n(Dn),Xn=Object(N.c)(Rn.a)(We||(We=Object(G.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  min-width: 600px;\n  min-height: 480px;\n  background-color: ",";\n  border-radius: 15px;\n  box-shadow: 0px 0px 32px -8px rgb(0 0 0 / 30%);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: column;\n  opacity: 1;\n\n  &:focus {\n    outline: none;\n  }\n"])),(function(e){return e.theme.colors.white})),Kn=N.c.button(Qe||(Qe=Object(G.a)(["\n  cursor: pointer;\n  margin: 15px 0;\n  padding: ",";\n  font-size: ",";\n  background-color: white;\n  box-shadow: -2px 4px 10px rgba(115, 124, 142, 0.09);\n\n  border: none;\n  border-bottom: 1px solid lightblue;\n  font-weight: bold;\n  color: ",";\n"])),(function(e){return e.isBig?"10px 38px":"7px 20px"}),(function(e){var n=e.isBig,t=e.theme.fontSize;return n?t.m:t.s}),(function(e){return e.theme.colors.darkGrey})),Wn={width:"100%",maxWidth:"120px",color:"#ffffff",backgroundColor:"#000",background:"linear-gradient(#f06 40%, #d91918)",borderRadius:"32px",margin:"0 0 40px 0",padding:"16px 40px",border:"2px solid #fff"},Qn=function(e){var n=e.handleClose,t=e.isOpen,r=e.children;return Object(C.jsxs)(Xn,{appElement:document.getElementById("root"),isOpen:t,onRequestClose:n,children:[r,Object(C.jsx)(Kn,{style:Wn,onClick:n,children:"Close"})]})},Un={color:"#d91918"},Hn=function(){var e=Object(x.useState)(null),n=Object(w.a)(e,2),t=n[0],r=n[1],o=se().getStudentById,i=Object(gn.g)().id,a=Gn(),c=a.isOpen,s=a.handleOpenModal,u=a.handleCloseModal,d=ge(),l=d.data,b=d.isLoading,p=function(){var e=Object(y.a)(Object(v.a)().mark((function e(n){var t;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(n);case 2:t=e.sent,r(t),s();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return b?Object(C.jsx)(An,{children:Object(C.jsx)(Bn,{children:"Loading..."})}):!i&&l.groups.length>0?Object(C.jsx)(gn.a,{to:"/group/".concat(l.groups[0].id)}):Object(C.jsxs)(An,{children:[Object(C.jsxs)(Bn,{children:[Object(C.jsxs)(I,{as:"h2",children:["Group ",Object(C.jsx)("span",{style:Un,children:i})]}),Object(C.jsx)("nav",{children:l.groups.map((function(e){var n=e.id;return Object(C.jsxs)(_.b,{to:"/group/".concat(n),"data-testid":"group".concat(n,"btn"),children:[n," "]},n)}))})]}),Object(C.jsxs)(Tn,{children:[Object(C.jsx)(Pn,{handleOpenStudentDetails:p}),Object(C.jsx)(Qn,{isOpen:c,handleClose:u,children:Object(C.jsx)(_n,{student:t})})]})]})},Vn=N.c.label(Ue||(Ue=Object(G.a)(["\n  font-family: Montserrat, sans-serif;\n  font-weight: bold;\n  font-size: 12px;\n  color: ",";\n"])),(function(e){return e.theme.colors.darkGrey})),Yn=["onChange","value","label","name","id","type","isTextarea"],Zn=N.c.div(He||(He=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n\n  "," {\n    margin: 0 0 12px;\n  }\n"])),Vn),Jn=g.a.forwardRef((function(e,n){var t=e.onChange,r=e.value,o=e.label,i=e.name,a=e.id,c=e.type,s=void 0===c?"text":c,u=e.isTextarea,d=Object(On.a)(e,Yn);return Object(C.jsxs)(Zn,{children:[Object(C.jsx)(Vn,{htmlFor:a,children:o}),u?Object(C.jsx)(V,Object(H.a)(Object(H.a)({isTextarea:!0,as:"textarea",name:i,id:a,value:r,onChange:t,"data-testid":o},d),{},{ref:n})):Object(C.jsx)(V,Object(H.a)(Object(H.a)({name:i,id:a,type:s,value:r,onChange:t,"data-testid":o},d),{},{ref:n}))]})})),$n=N.c.div(Ve||(Ve=Object(G.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 0.7fr 1.3fr;\n  grid-gap: 30px;\n  padding: 30px;\n"]))),et=N.c.form(Ye||(Ye=Object(G.a)(["\n  padding: 40px;\n  background: ",";\n  border-radius: 25px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"])),(function(e){return e.theme.colors.white})),nt=Object(N.c)(Jn)(Ze||(Ze=Object(G.a)(["\n  min-height: ",";\n"])),(function(e){return e.isTextarea?"300px":"unset"})),tt=N.c.div(Je||(Je=Object(G.a)(["\n  padding: 20px 60px;\n  display: flex;\n  flex-direction: column;\n"]))),rt=t(56),ot={width:"100%",maxWidth:"120px",alignSelf:"flex-end",color:"#ffffff",backgroundColor:"#000",background:"linear-gradient(#f06 40%, #d91918)",borderRadius:"32px",margin:"0",padding:"16px 40px",border:"2px solid #fff"},it=function(){var e=Object(rt.a)(),n=e.register,t=e.handleSubmit,r=e.formState.errors,o=je(),i=o.data,a=o.isLoading,c=fe(),s=Object(w.a)(c,1)[0];return Object(C.jsxs)($n,{children:[Object(C.jsxs)(et,{onSubmit:t((function(e){var n=e.title,t=e.content;s({title:n,content:t})})),children:[Object(C.jsx)(nt,Object(H.a)(Object(H.a)({},n("title",{required:!0})),{},{label:"Title",name:"title",id:"title"})),Object(C.jsx)(nt,Object(H.a)(Object(H.a)({},n("content",{required:!0})),{},{isTextarea:!0,label:"Content",name:"content",id:"content"})),r.title&&Object(C.jsx)("span",{children:"Title is required"}),r.content&&Object(C.jsx)("span",{children:"Content is required"}),Object(C.jsx)(Kn,{style:ot,type:"submit",children:"Add"})]}),a?Object(C.jsx)("h2",{children:"Loading..."}):Object(C.jsx)(tt,{children:i.notes.length?i.notes.map((function(e){var n=e.title,t=e.content,r=e.id;return Object(C.jsx)(ln,{id:r,title:n,content:t},r)})):Object(C.jsx)("p",{children:"Create your first note"})})]})},at=N.c.div($e||($e=Object(G.a)(["\n  grid-row: 1 / 3;\n  grid-column: 3 / 3;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding: 50px;\n  overflow-y: scroll;\n"]))),ct=N.c.h2(en||(en=Object(G.a)(["\n  margin-right: auto;\n  color: ",";\n"])),(function(e){return e.theme.colors.darkGrey})),st=Object(N.c)(En)(nn||(nn=Object(G.a)(["\n  margin: 30px 0 0;\n  width: 100%;\n  max-width: unset;\n  border-radius: 12px;\n  color: ",";\n\n  p {\n    line-height: 1.6;\n  }\n"])),(function(e){return e.theme.colors.darkGrey})),ut=N.c.div(tn||(tn=Object(G.a)(["\n  h3 {\n    margin: 0;\n    font-size: ",";\n  }\n\n  p {\n    margin: 0;\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.fontSize.xl}),(function(e){return e.theme.fontSize.l})),dt=N.c.div(rn||(rn=Object(G.a)(["\n  display: flex;\n\n  img {\n    margin-left: 35px;\n    max-width: 200px;\n    object-fit: cover;\n  }\n"]))),lt=function(){var e=Object(x.useState)([]),n=Object(w.a)(e,2),t=n[0],r=n[1],o=Object(x.useState)(""),i=Object(w.a)(o,2),a=i[0],c=i[1];return Object(x.useEffect)((function(){S.a.post("https://graphql.datocms.com/",{query:"\n         {\n          allArticles {\n            id\n            title\n            category\n            content\n            image {\n              url\n            }\n          }\n        }\n      "},{headers:{authorization:"Bearer ".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DATOCMS_TOKEN)}}).then((function(e){var n=e.data.data;r(n.allArticles)})).catch((function(){c("Sorry, we couldn't load articles for you")}))}),[]),Object(C.jsxs)(at,{children:[Object(C.jsx)(ct,{children:"Aktualno\u015bci"}),t.length>0?t.map((function(e){var n=e.id,t=e.title,r=e.category,o=e.content,i=e.image,a=void 0===i?null:i;return Object(C.jsxs)(st,{children:[Object(C.jsxs)(ut,{children:[Object(C.jsx)("h3",{children:t}),Object(C.jsx)("p",{children:r})]}),Object(C.jsxs)(dt,{children:[Object(C.jsx)("p",{children:o}),a?Object(C.jsx)("img",{src:a.url,alt:"article"}):null]})]},n)})):Object(C.jsx)(ct,{children:a||"Loading..."})]})},bt=function(){return Object(C.jsx)(hn,{children:Object(C.jsx)(xn,{children:Object(C.jsxs)(gn.d,{children:[Object(C.jsx)(gn.b,{exact:!0,path:"/",children:Object(C.jsx)(gn.a,{to:"/group"})}),Object(C.jsx)(gn.b,{path:"/group/:id?",children:Object(C.jsx)(Hn,{})}),Object(C.jsx)(gn.b,{path:"/notes",children:Object(C.jsx)(it,{})}),Object(C.jsx)(gn.b,{path:"/news",children:Object(C.jsx)(lt,{})})]})})})},pt=N.c.form(on||(on=Object(G.a)(["\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),jt=function(){var e=B(),n=Object(rt.a)(),t=n.register,r=n.handleSubmit,o=n.formState.errors;return Object(C.jsxs)(pt,{onSubmit:r(e.signIn),children:[Object(C.jsx)(Jn,Object(H.a)({label:"login",name:"login",id:"login"},t("login",{required:!0}))),o.login&&Object(C.jsx)("span",{children:"Login is required"}),Object(C.jsx)(Jn,Object(H.a)({label:"has\u0142o",name:"password",id:"password",type:"password"},t("password",{required:!0}))),o.password&&Object(C.jsx)("span",{children:"Password is required"}),Object(C.jsx)(Kn,{type:"submit",children:"Sign in"})]})},ft=t(38),ht=t(17),xt=t.n(ht);xt.a.seed(123);var gt=["A","B","C"],Ot=["workshop","exam","lecture"],mt=function(e,n){return e[n]},vt=function(){return xt.a.datatype.number({min:2,max:5,precision:.1})},yt=Object(ft.factory)({student:{id:Object(ft.primaryKey)(xt.a.datatype.uuid),name:function(){return xt.a.fake("{{name.firstName}} {{name.lastName}}")},attendance:function(){return"".concat(xt.a.datatype.number({min:0,max:100}))},average:vt,group:function(){return mt(gt,xt.a.datatype.number({min:0,max:2}))},course:function(){return xt.a.fake("{{company.bsAdjective}} {{company.bsNoun}}")},grades:function(){return[{subject:"Business Philosophy",average:vt()},{subject:"Marketing",average:vt()},{subject:"Modern Economy",average:vt()}]}},group:{id:Object(ft.primaryKey)(String)},event:{id:Object(ft.primaryKey)(xt.a.datatype.uuid),type:function(){return mt(Ot,xt.a.datatype.number({min:0,max:2}))},group:function(){return mt(gt,xt.a.datatype.number({min:0,max:2}))},subject:function(){return xt.a.fake("{{company.bsAdjective}} {{company.bsNoun}}")},date:xt.a.date.soon},teacher:{id:Object(ft.primaryKey)((function(){return"1"})),name:function(){return"Wiktor Frelich"},login:function(){return"wiktor@broders.com"},password:function(){return"Test123"}},note:{id:Object(ft.primaryKey)(xt.a.datatype.uuid),title:function(){return"Lorem ipsum dolor sit amet"},content:function(){return"Lorem ipsum dolor sit amet"}}});yt.student.create({student:{id:Object(ft.primaryKey)(xt.a.datatype.uuid),name:"Robert Babi\u0144ski",attendance:function(){return"".concat(xt.a.datatype.number({min:0,max:100}))},average:vt,group:function(){return mt(gt,xt.a.datatype.number({min:0,max:2}))},course:function(){return xt.a.fake("{{company.bsAdjective}} {{company.bsNoun}}")},grades:function(){return[{subject:"Business Philosophy",average:vt()},{subject:"Marketing",average:vt()},{subject:"Modern Economy",average:vt()}]}}});var wt=function(){var e=B(),n=E().error;return Object(C.jsxs)(C.Fragment,{children:[n?Object(C.jsx)(F,{}):null,e.user?Object(C.jsx)(bt,{}):Object(C.jsx)(jt,{})]})},kt=(t(1674),t(12)),St=t(33),Ct=t(28),zt=[Ct.e.get("/groups",(function(e,n,t){return n(t.status(200),t.json({groups:yt.group.getAll()}))})),Ct.e.get("/groups/:id",(function(e,n,t){if(e.params.id){var r=yt.student.findMany({where:{group:{equals:e.params.id}}});return n(t.status(200),t.json({students:r}))}return n(t.status(404),t.json({error:"Please provide the group ID"}))}))],Pt=[Ct.e.get("/students/:id",(function(e,n,t){if(e.params.id){var r=yt.student.findFirst({where:{id:{equals:e.params.id}}});return r?n(t.status(200),t.json({students:r})):n(t.status(404),t.json({error:"No matching student"}))}return n(t.status(200),t.json({students:yt.student.getAll()}))})),Ct.e.post("/students/search",(function(e,n,t){var r=yt.student.findMany({where:{name:{contains:e.body.searchPhrase}}});return n(t.status(200),t.json({students:r}))}))],Et=["password"],At=function(e){e.password;return Object(On.a)(e,Et)},Tt=[Ct.e.post("/login",(function(e,n,t){var r=yt.teacher.findFirst({where:{login:{equals:e.body.login}}});if(r&&r.password===e.body.password){var o=btoa(r.login);return localStorage.setItem("__be_token__",o),n(t.status(200),t.json(Object(H.a)(Object(H.a)({},At(r)),{},{token:o})))}return n(t.status(403),t.json({error:"Invalid user data"}))})),Ct.e.get("/me",(function(e,n,t){if(function(e){var n;return(localStorage.getItem("__be_token__")||null)===(null===(n=e.headers.get("Authorization"))||void 0===n?void 0:n.replace("Bearer ",""))}(e)){var r=yt.teacher.getAll();return n(t.status(200),t.json(Object(H.a)({},At(r))))}return n(t.status(401))}))],Bt=[Ct.e.get("/notes",(function(e,n,t){return n(t.status(200),t.json({notes:yt.note.getAll()}))})),Ct.e.post("/notes",(function(e,n,t){if(e.body.title&&e.body.content){console.log("MSW:",e.body);var r={id:xt.a.datatype.uuid(),title:e.body.title,content:e.body.content};return yt.note.create(r),n(t.status(201),t.json({notes:r}))}return n(t.status(400),t.json({error:"Every note needs to contain title and content"}))})),Ct.e.delete("/notes",(function(e,n,t){if(e.body.id){var r=yt.note.delete({where:{id:{equals:e.body.id}}});return n(t.status(200),t.json({removedNote:r}))}return n(t.status(400),t.json({error:"Please provide ID of removed note"}))}))],Gt=[].concat(Object(kt.a)(zt),Object(kt.a)(Pt),Object(kt.a)(Tt),Object(kt.a)(Bt)),Nt=St.setupWorker.apply(void 0,Object(kt.a)(Gt)),It=function(){yt.group.create({id:"A"}),yt.group.create({id:"B"}),yt.group.create({id:"C"}),yt.teacher.create(),yt.note.create(),yt.note.create();for(var e=0;e<15;e++)yt.student.create(),yt.event.create()};It(),window.mocks={seed:It,getStudents:function(){return yt.student.getAll()},getEvents:function(){return yt.event.getAll()},getGroups:function(){return yt.group.getAll()}};var Lt,qt={colors:{white:"#FFFFFF",lightGrey:"#F7F8FA",grey:"#C0C7D6",darkGrey:"#737C8E",black:"#111111",success:"#8FCB81",error:"#FF8383",warning:"#E1D888",darkPurple:"#C0C7D6",lightPurple:"#ECEFF7"},fontSize:{xxl:"34px",xl:"24px",l:"17px",m:"12px",s:"11px"}},Mt=Object(N.b)(Lt||(Lt=Object(G.a)(["\n  html {\n    box-sizing: border-box;\n  }\n  \n  *, *::after, *::before {\n    box-sizing: inherit;\n  }\n  \n  body {\n    font-family: 'Montserrat', sans-serif;\n    margin: 0;\n    padding: 0;\n    overflow-x: hidden;\n  }\n  \n  a, button {\n    font-family: 'Montserrat', sans-serif;\n  }\n"]))),Ft=t(40),_t=function(e){var n=e.children;return Object(C.jsx)(Ft.Provider,{store:Oe,children:Object(C.jsx)(_.a,{children:Object(C.jsx)(N.a,{theme:qt,children:Object(C.jsx)(P,{children:Object(C.jsxs)(T,{children:[Object(C.jsx)(Mt,{}),n]})})})})})};Nt.start().then((function(){m.a.render(Object(C.jsx)(g.a.StrictMode,{children:Object(C.jsx)(_t,{children:Object(C.jsx)(wt,{})})}),document.getElementById("root"))}))}},[[1677,1,2]]]);
//# sourceMappingURL=main.cb6867f4.chunk.js.map